<!doctype>
<html>
  <head>
    <meta charset="utf-8">
    <title>Select Autosuggest</title>

    <style>
      .wrapper {
        max-width: 600px;
        margin: 0 auto;
      }
    </style>

    <script src="select-autosuggest.umd.js"></script>
    <link rel="stylesheet" href="select-autosuggest.min.css">
    <script>
      window.addEventListener('DOMContentLoaded', (event) => {
        if (SelectAutosuggest) {
          const select = new SelectAutosuggest({
            callback: {
              onClick: (result) => console.log('on click callback', result),
              onFilter: (result) => console.log('on filter callback', result),
              onFocus: (result) => console.log('on focus callback', result),
              onKeyDown: (result) => console.log('on keydown callback', result),
              onKeyUp: (result) => console.log('on keyup callback', result),
              onDisplaySelection: (result) => console.log('on display selection callback', result),
              onDisplaySelections: (result) => console.log('on display selections callback', result),
              onRenderComplete: (result) => console.log('on render complete callback', result),
              onSubmit: (result) => console.log('on submit callback', result),
            },
            config: {
              placeholder: '',
              filterName: 'text',
              maxSuggestions: 10,
              method: 'GET',
              transform: (result) => Object.keys(result).map(k => [encodeURIComponent(k), k])
            },
          });

          select.start();
        }
      })
    </script>
  </head>
  <body>
    <div class="wrapper">
      <form>
        <h5>Single Select</h5>
        <select id="foo" class="select-autosuggest" data-select-autosuggest-placeholder="Select an option">
          <option value="1">Red</option>
          <option value="2">Green</option>
          <option value="3">Blue</option>
        </select>

        <br/>
        <br/>
        <br/>

        <h5>Multiple Select with Endpoint</h5>
        <select id="bar" multiple class="select-autosuggest" data-select-autosuggest-endpoint="https://raw.githubusercontent.com/mdn/content/main/files/en-us/_wikihistory.json" data-select-autosuggest-placeholder="Search for options">
          <option selected value="foo">FOO</option>
          <option value="bar">BAR</option>
          <option value="baz">BAZ</option>
        </select>
      </form>

      <p>Et enim fugiat magna incididunt dolore aliqua laboris est sunt mollit elit. Veniam sunt deserunt anim esse mollit velit consectetur duis nostrud. Pariatur cillum fugiat Lorem proident elit qui. Incididunt elit voluptate veniam pariatur sit tempor incididunt ad veniam minim cupidatat ullamco esse id.</p>
    </div>

  </body>
</html>